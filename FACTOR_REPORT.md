# 🎯 情感因子研究报告

## 📊 项目概述

本项目成功构建了基于新闻情感分析的量化因子，完成了从数据到信号的完整闭环。我们使用Transformer模型对新闻进行情感分析，并将情感分数聚合为日度因子，最后通过IC（信息系数）评估因子的预测能力。

## 🏗️ 技术架构

### 数据流程
1. **新闻数据获取**: 通过Event Registry API获取股票相关新闻
2. **数据清洗**: 清理重复、无效的新闻数据
3. **情感分析**: 使用`cardiffnlp/twitter-roberta-base-sentiment-latest`模型进行情感分析
4. **因子构建**: 将单条新闻情感分数按天和股票聚合
5. **因子评估**: 计算因子与未来收益的IC和Rank-IC

### 核心模块
- `data_pipe.py`: 新闻数据获取和清洗
- `sentiment.py`: 情感分析模块
- `src/factors.py`: 因子构建模块
- `src/eval.py`: 因子评估模块
- `src/generate_factors.py`: 因子生成主脚本
- `src/analyze_factors.py`: 因子分析脚本

## 📈 因子表现分析

### 数据概览
- **因子记录数**: 119条
- **覆盖交易日**: 26天
- **覆盖股票数**: 31只
- **IC计算天数**: 2天

### 因子分布特征
- **情感因子均值**: 0.0000 (标准化后)
- **情感因子标准差**: 0.4219
- **因子范围**: [-2.4749, 2.0412]
- **正因子比例**: 11.76%
- **负因子比例**: 9.24%
- **中性因子比例**: 78.99%

### 新闻数量分布
- **平均新闻数**: 1.72条/股票/天
- **高新闻量比例** (≥3条): 18.49%
- **中新闻量比例** (2条): 13.45%
- **低新闻量比例** (1条): 68.07%

## 🎯 IC表现评估

### IC统计指标
- **IC均值**: 0.0642
- **IC标准差**: 0.1011
- **IC t统计量**: 0.8971
- **IC信息比率**: 0.6343
- **正IC比例**: 50.00%

### Rank-IC统计指标
- **Rank-IC均值**: -0.1768
- **Rank-IC标准差**: 0.2500
- **Rank-IC t统计量**: -1.0000
- **Rank-IC信息比率**: -0.7071
- **正Rank-IC比例**: 0.00%

### 时间序列表现
- **最大IC**: 0.1357 (2025-08-15)
- **最小IC**: -0.0074 (2025-08-12)
- **IC范围**: 0.1430

## 🔍 因子有效性评估

### 统计显著性
- **IC有效性**: 弱 (t统计量: 0.90 < 1.5)
- **Rank-IC有效性**: 弱 (t统计量: 1.00 < 1.5)

### 投资建议
❌ **当前因子预测能力较弱，需要更多数据或改进方法**

## 📋 关键发现

### 1. 数据质量
- 成功处理了205条情感分析记录
- 因子分布合理，大部分为中性情感
- 新闻覆盖度适中，平均每只股票每天1.72条新闻

### 2. 因子特征
- 因子经过横截面标准化，均值为0
- 存在明显的正负因子分布
- 加权因子考虑了新闻数量影响

### 3. 预测能力
- IC均值为正(0.0642)，显示微弱正向预测能力
- 但t统计量不显著，需要更多样本验证
- Rank-IC为负，显示排序预测能力有限

## 🚀 改进方向

### 1. 数据扩展
- 增加历史数据时间跨度
- 扩大股票覆盖范围
- 提高新闻数据质量

### 2. 因子优化
- 尝试不同的聚合方法
- 考虑新闻来源权重
- 引入时间衰减因子

### 3. 模型改进
- 使用更专业的情感分析模型
- 考虑多语言处理
- 引入领域特定词典

### 4. 评估增强
- 增加更多评估指标
- 进行回测验证
- 考虑交易成本

## 📁 交付物清单

### 数据文件
- `data/processed/daily_sentiment_factors.csv`: 日度情感因子数据
- `data/processed/ic_results.csv`: IC计算结果
- `data/processed/factor_evaluation.json`: 因子评估结果

### 代码文件
- `src/factors.py`: 因子构建模块
- `src/eval.py`: 因子评估模块
- `src/generate_factors.py`: 因子生成脚本
- `src/analyze_factors.py`: 因子分析脚本

### 报告文件
- `FACTOR_REPORT.md`: 本研究报告

## 🎉 项目成果

✅ **成功构建了完整的NLP量化因子系统**
✅ **实现了从新闻到因子的端到端流程**
✅ **建立了标准化的因子评估框架**
✅ **提供了可复现的研究代码**

虽然当前因子的预测能力有限，但我们已经建立了完整的技术框架，为后续的因子优化和扩展奠定了坚实基础。这是一个从工程到研究的关键一跃！

---

*报告生成时间: 2025-08-27*  
*项目: Market Alpha - NLP-Driven Factor Study*

